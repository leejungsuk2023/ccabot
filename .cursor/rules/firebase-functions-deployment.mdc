# Firebase Functions ë°°í¬ ë° ì‹¤í–‰ ê°€ì´ë“œ

## ğŸ”§ Firebase Functions v2 ë¬¸ë²• (ì¤‘ìš”!)
Firebase Functions v2ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë°˜ë“œì‹œ ì˜¬ë°”ë¥¸ ë¬¸ë²•ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤:

```javascript
// âœ… ì˜¬ë°”ë¥¸ ë¬¸ë²•
const { https } = require("firebase-functions/v2");
exports.functionName = https.onRequest({region: "asia-northeast3"}, async (req, res) => {
  // í•¨ìˆ˜ ë¡œì§
});

// âŒ ì˜ëª»ëœ ë¬¸ë²• (v1 ìŠ¤íƒ€ì¼)
const {onRequest} = require("firebase-functions/v2/https");
exports.functionName = onRequest({...}, async (req, res) => {
```

## ğŸš€ ë¡œì»¬ ì‹¤í–‰ vs í´ë¼ìš°ë“œ ë°°í¬

### ë¡œì»¬ ì‹¤í–‰ ì‹œ ì£¼ì˜ì‚¬í•­
- Firebase Admin SDK ì¸ì¦ ë¬¸ì œ ë°œìƒ ê°€ëŠ¥
- `serviceAccountKey.json` íŒŒì¼ì´ í•„ìš”í•˜ê±°ë‚˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • í•„ìš”
- ë¡œì»¬ì—ì„œëŠ” `process.env.FUNCTIONS_EMULATOR` ì²´í¬ í•„ìš”

### í´ë¼ìš°ë“œ ë°°í¬ ê¶Œì¥ì‚¬í•­
- Firebase Functions í™˜ê²½ì—ì„œëŠ” ìë™ ì¸ì¦ ì²˜ë¦¬
- CSV íŒŒì¼ì€ functions í´ë”ì— í¬í•¨ë˜ì–´ì•¼ í•¨
- ë°°í¬ í›„ HTTP íŠ¸ë¦¬ê±°ë¡œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•ˆì •ì 

## ğŸ“ íŒŒì¼ êµ¬ì¡° ë° ì˜ì¡´ì„±

### í•„ìˆ˜ íŒŒì¼ë“¤
- [functions/index.js](mdc:functions/index.js) - ë©”ì¸ í•¨ìˆ˜ë“¤
- [functions/package.json](mdc:functions/package.json) - ì˜ì¡´ì„± ê´€ë¦¬
- [firebase.json](mdc:firebase.json) - Firebase ì„¤ì •
- [.firebaserc](mdc:.firebaserc) - í”„ë¡œì íŠ¸ ì„¤ì •

### CSV íŒŒì¼ ì²˜ë¦¬
- CSV íŒŒì¼ì€ [functions/](mdc:functions/) í´ë”ì— ìœ„ì¹˜
- `csv-parser` ë¼ì´ë¸ŒëŸ¬ë¦¬ í•„ìˆ˜ ì¶”ê°€
- íŒŒì¼ ê²½ë¡œëŠ” `path.join(__dirname, 'filename.csv')` ì‚¬ìš©

## ğŸ” ë””ë²„ê¹… íŒ

### ì¼ë°˜ì ì¸ ì˜¤ë¥˜ë“¤
1. **Project ID ì˜¤ë¥˜**: `admin.initializeApp({projectId: 'your-project-id'})`
2. **ì¸ì¦ ì˜¤ë¥˜**: í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œëŠ” `admin.initializeApp()`ë§Œ ì‚¬ìš©
3. **íŒŒì¼ ê²½ë¡œ ì˜¤ë¥˜**: `__dirname`ì„ ì‚¬ìš©í•˜ì—¬ ì ˆëŒ€ ê²½ë¡œ ìƒì„±

### ë°°í¬ í™•ì¸
```bash
# í•¨ìˆ˜ ë°°í¬
firebase deploy --only functions:functionName

# í•¨ìˆ˜ URL í™•ì¸
curl "https://asia-northeast3-project-id.cloudfunctions.net/functionName"
```
description:
globs:
alwaysApply: false
---
